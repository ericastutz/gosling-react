{"version":3,"sources":["example/Simple.js","example/VegaLite.js","example/Widget.js","App.js","index.js"],"names":["SimpleExample","spec","tracks","id","data","url","type","row","column","value","categories","binSize","mark","x","field","xe","legend","color","range","width","height","experimental","reactive","goslingSpec","layout","arrangement","centerRadius","xDomain","chromosome","style","select","stroke","strokeWidth","arrange","opacity","views","title","mouseEvents","y","size","vegaLiteSpec","encoding","bin","aggregate","scale","domain","name","VegaLiteExample","gosRef","useRef","useState","selectedData","setSelectedData","useEffect","current","api","subscribe","_","e","unsubscribe","ref","marginLeft","VegaLite","table","MARK_OPTIONS","LAYOUT_OPTIONS","Array","from","map","i","axis","tooltip","alt","format","Widget","setMark","setLayout","setBinSize","marginTop","min","max","step","className","display","margin","onChange","currentTarget","d","key","examples","Simple","App","Object","entries","entry","to","path","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7f3ec143.chunk.js","sourcesContent":["import React from 'react';\nimport { GoslingComponent } from 'gosling.js';\n\nfunction SimpleExample() {\n\treturn (\n\t\t<>\n\t\t\t<GoslingComponent\n\t\t\t\tspec={{ \n\t\t\t\t\ttracks: [{\n\t\t\t\t\t\tid: 'heatmap-track',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\turl: 'https://server.gosling-lang.org/api/v1/tileset_info/?d=cistrome-multivec',\n\t\t\t\t\t\t\ttype: 'multivec',\n\t\t\t\t\t\t\trow: 'sample',\n\t\t\t\t\t\t\tcolumn: 'position',\n\t\t\t\t\t\t\tvalue: 'peak',\n\t\t\t\t\t\t\tcategories: ['sample 1', 'sample 2', 'sample 3', 'sample 4'],\n\t\t\t\t\t\t\tbinSize: 4\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmark: 'rect',\n\t\t\t\t\t\tx: { field: 'start', type: 'genomic' },\n\t\t\t\t\t\txe: { field: 'end', type: 'genomic' },\n\t\t\t\t\t\trow: { field: 'sample', type: 'nominal', legend: true },\n\t\t\t\t\t\tcolor: { field: 'peak', type: 'quantitative', legend: true, range: 'pink' },\n\t\t\t\t\t\twidth: 600,\n\t\t\t\t\t\theight: 130\n\t\t\t\t\t}]\n\t\t\t\t}}\n\t\t\t\texperimental={{ reactive: true }}\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default SimpleExample;\n","import React, { useEffect, useState, useRef } from 'react';\nimport { GoslingComponent } from 'gosling.js';\nimport { VegaLite } from 'react-vega'\n\nconst goslingSpec = {\n\tlayout: 'linear',\n\tarrangement: 'vertical',\n\tcenterRadius: 0.8,\n\txDomain: { chromosome: '1' },\n\tstyle: {\n\t\tselect: { color: 'black', stroke: 'black', strokeWidth: 6, arrange: 'behind', opacity: 0.1 }\n\t},\n\tviews: [\n\t\t{\n\t\t\ttracks: [\n\t\t\t\t{\n\t\t\t\t\ttitle: 'ALT + Mouse Drag For Range Selection',\n\t\t\t\t\tid: 'scatterplot-track',\n\t\t\t\t\texperimental: { mouseEvents: true },\n\t\t\t\t\tdata: {\n\t\t\t\t\t\turl: 'https://server.gosling-lang.org/api/v1/tileset_info/?d=cistrome-multivec',\n\t\t\t\t\t\ttype: 'multivec',\n\t\t\t\t\t\trow: 'sample',\n\t\t\t\t\t\tcolumn: 'position',\n\t\t\t\t\t\tvalue: 'peak',\n\t\t\t\t\t\tcategories: ['sample 1', 'sample 2', 'sample 3', 'sample 4'],\n\t\t\t\t\t\tbinSize: 4\n\t\t\t\t\t},\n\t\t\t\t\tmark: 'point',\n\t\t\t\t\tx: { field: 'position', type: 'genomic' },\n\t\t\t\t\ty: { field: 'peak', type: 'quantitative' },\n\t\t\t\t\tsize: { field: 'peak', type: 'quantitative' },\n\t\t\t\t\tcolor: { field: 'sample', type: 'nominal', legend: true },\n\t\t\t\t\twidth: 600,\n\t\t\t\t\theight: 200\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t]\n};\n\nconst vegaLiteSpec = {\n\twidth: 450,\n\theight: 400,\n\tmark: 'bar',\n\tencoding: {\n\t\tx: { field: 'peak', type: 'ordinal', bin: true },\n\t\ty: { field: 'peak', type: 'quantitative', aggregate: 'count' },\n\t\tcolor: { field: 'sample', type: 'nominal', scale: { domain: ['sample 1', 'sample 2', 'sample 3', 'sample 4'], range: ['#E79F00', '#029F73', '#0072B2', '#CB7AA7'] }}\n\t},\n\tdata: { name: 'table' }\n};\n\nfunction VegaLiteExample() {\n\tconst gosRef = useRef(null);\n\n\tconst [selectedData, setSelectedData] = useState([]);\n\n\tuseEffect(() => {\n\t\tif (!gosRef.current) return;\n\t\tgosRef.current.api.subscribe('rangeSelect', (_, e) => setSelectedData(e.data));\n\t\treturn () => gosRef.current.api.unsubscribe('rangeSelect');\n\t}, [gosRef]);\n\n\treturn (\n\t\t<>\n\t\t\t<GoslingComponent\n\t\t\t\tref={gosRef}\n\t\t\t\tspec={goslingSpec}\n\t\t\t\texperimental={{ reactive: true }}\n\t\t\t/>\n\n\t\t\t<div style={{ marginLeft: 80 }}>\n\t\t\t\t<VegaLite spec={vegaLiteSpec} data={{ table: selectedData }} />\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default VegaLiteExample;","import React, { useState, useRef } from 'react';\nimport { GoslingComponent } from 'gosling.js';\n\nconst MARK_OPTIONS = ['point', 'bar', 'line', 'area'];\nconst LAYOUT_OPTIONS = ['linear', 'circular'];\n\nconst goslingSpec = (mark, layout, binSize) => {\n\treturn {\n\t\tlayout,\n\t\tarrangement: 'vertical',\n\t\tcenterRadius: 0.4,\n\t\txDomain: { chromosome: '1' },\n\t\tstyle: {\n\t\t\tselect: { color: 'black', stroke: 'black', strokeWidth: 6, arrange: 'behind', opacity: 0.1 }\n\t\t},\n\t\tviews: [\n\t\t\t{\n\t\t\t\ttracks: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'widget-track',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\turl: 'https://server.gosling-lang.org/api/v1/tileset_info/?d=cistrome-multivec',\n\t\t\t\t\t\t\ttype: 'multivec',\n\t\t\t\t\t\t\trow: 'sample',\n\t\t\t\t\t\t\tcolumn: 'position',\n\t\t\t\t\t\t\tvalue: 'peak',\n\t\t\t\t\t\t\tcategories: Array.from(Array(6)).map((_, i) => `sample ${i}`),\n\t\t\t\t\t\t\tbinSize: binSize === 0 ? 1 : binSize\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmark: mark,\n\t\t\t\t\t\tx: { field: 'start', type: 'genomic' },\n\t\t\t\t\t\txe: { field: 'end', type: 'genomic' },\n\t\t\t\t\t\trow: { field: 'sample', type: 'nominal', legend: false },\n\t\t\t\t\t\ty: { field: 'peak', type: 'quantitative', axis: 'none' },\n\t\t\t\t\t\tcolor: { field: 'sample', type: 'nominal', legend: true },\n\t\t\t\t\t\ttooltip: [\n\t\t\t\t\t\t\t{ field: 'start', type: 'genomic', alt: 'Start Position' },\n\t\t\t\t\t\t\t{ field: 'end', type: 'genomic', alt: 'End Position' },\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfield: 'peak',\n\t\t\t\t\t\t\t\ttype: 'quantitative',\n\t\t\t\t\t\t\t\talt: 'Value',\n\t\t\t\t\t\t\t\tformat: '.2'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{ field: 'sample', type: 'nominal', alt: 'Sample' }\n\t\t\t\t\t\t],\n\t\t\t\t\t\twidth: 600,\n\t\t\t\t\t\theight: 230\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t]\n\t}\n};\n\nfunction Widget() {\n\tconst gosRef = useRef(null);\n\n\tconst [mark, setMark] = useState('point');\n\tconst [layout, setLayout] = useState('linear');\n\tconst [binSize, setBinSize] = useState(8);\n\n\treturn (\n\t\t<>\n\t\t\t<span>\n\t\t\t\t<div style={{ marginTop: 30, marginLeft: 80 }}>\n\t\t\t\t\t{'Bin Size: '}\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"range\"\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={32}\n\t\t\t\t\t\tstep={4}\n\t\t\t\t\t\tvalue={binSize}\n\t\t\t\t\t\tclassName=\"slider\"\n\t\t\t\t\t\tid=\"bin-slider\"\n\t\t\t\t\t\tstyle={{ width: 100, display: 'inline', margin: 10 }}\n\t\t\t\t\t\tonChange={(e) => setBinSize(+e.currentTarget.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t{binSize === 0 ? 1 : binSize}\n\t\t\t\t</div>\n\t\t\t</span>\n\t\t\t<div style={{ marginTop: 30, marginLeft: 80 }}>\n\t\t\t\t{'Mark: '}\n\t\t\t\t<select name=\"mark\" onChange={(e) => setMark(e.currentTarget.value)}>\n\t\t\t\t\t{MARK_OPTIONS.map(d => <option key={d} value={d}>{d}</option>)}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div style={{ marginTop: 30, marginLeft: 80 }}>\n\t\t\t\t{'Layout: '}\n\t\t\t\t<select name=\"layout\" onChange={(e) => setLayout(e.currentTarget.value)}>\n\t\t\t\t\t{LAYOUT_OPTIONS.map(d => <option key={d} value={d}>{d}</option>)}\n\t\t\t\t</select>\n\t\t\t</div>\n\n\t\t\t<GoslingComponent\n\t\t\t\tref={gosRef}\n\t\t\t\tspec={goslingSpec(mark, layout, binSize)}\n\t\t\t\texperimental={{ reactive: true }}\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default Widget;\n","import * as React from 'react';\nimport { Routes, Route, Link } from 'react-router-dom';\nimport SimpleExample from './example/Simple';\nimport VegaLiteExample from './example/VegaLite';\nimport Widget from './example/Widget';\n\n// The full list of examples\nconst examples = {\n\tSimple: <SimpleExample/>,\n\tWidget: <Widget/>,\n\t'Vega-Lite': <VegaLiteExample/>,\n}\n\nfunction App() {\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<h1>Gosling React Examples</h1>\n\t\t\t{/* Examples */}\n\t\t\t<ol>\n\t\t\t\t{Object.entries(examples).map(entry => <li key={entry[0]}><Link to={`/${entry[0]}`}>{entry[0]}</Link></li>)}\n\t\t\t</ol>\n\t\t\t{/* Example Page */}\n\t\t\t<Routes>\n\t\t\t\t<Route path=\"/\" element={examples.Simple} />\n\t\t\t\t{Object.entries(examples).map(entry => <Route key={entry[0]} path={`/${entry[0]}`} element={entry[1]}/>)}\n\t\t\t</Routes>\n\t\t</div>\n\t);\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n\t<HashRouter>\n\t\t<App/>\n\t</HashRouter>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}