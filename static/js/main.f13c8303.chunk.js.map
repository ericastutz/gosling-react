{"version":3,"sources":["example/Simple.js","example/VegaLite.js","App.js","index.js"],"names":["SimpleExample","spec","tracks","id","data","url","type","row","column","value","categories","binSize","mark","x","xe","color","range","width","height","experimental","reactive","goslingSpec","layout","arrangement","centerRadius","xDomain","chromosome","style","select","stroke","strokeWidth","arrange","opacity","views","title","mouseEvents","size","vegaLiteSpec","encoding","field","bin","y","aggregate","scale","domain","name","VegaLiteExample","gosRef","useRef","useState","setMark","setBinSize","selectedData","setSelectedData","useEffect","current","api","subscribe","debounce","e","unsubscribe","marginTop","marginLeft","min","max","step","className","display","margin","onChange","currentTarget","ref","VegaLite","table","examples","Simple","App","Object","entries","map","entry","key","to","path","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f13c8303.chunk.js","sourcesContent":["import React from 'react';\nimport { GoslingComponent } from 'gosling.js';\n\nfunction SimpleExample() {\n  return (\n    <>\n      <GoslingComponent\n        spec={{ \n            tracks: [{\n                id: \"heatmap-track\",\n                data: {\n                    url: \"https://server.gosling-lang.org/api/v1/tileset_info/?d=cistrome-multivec\",\n                    type: \"multivec\",\n                    row: \"sample\",\n                    column: \"position\",\n                    value: \"peak\",\n                    categories: [\"sample 1\", \"sample 2\", \"sample 3\", \"sample 4\"],\n                    binSize: 4\n                },\n                mark: 'rect',\n                x: { \"field\": \"start\", \"type\": \"genomic\" },\n                xe: { \"field\": \"end\", \"type\": \"genomic\" },\n                row: { \"field\": \"sample\", \"type\": \"nominal\", \"legend\": true },\n                color: { \"field\": \"peak\", \"type\": \"quantitative\", \"legend\": true, range: 'pink' },\n                width: 600,\n                height: 130\n            }]\n        }}\n        experimental={{ reactive: true }}\n      />\n    </>\n  );\n}\n\nexport default SimpleExample;\n","import React, { useEffect, useState, useRef } from 'react';\nimport { debounce } from \"lodash\";\nimport { GoslingComponent } from 'gosling.js';\nimport { VegaLite } from 'react-vega'\n\nconst goslingSpec = (mark, binSize) => {\n  return {\n    layout: \"linear\",\n    arrangement: \"vertical\",\n    centerRadius: 0.8,\n    xDomain: { chromosome: \"1\" },\n    style: {\n      select: { color: 'black', stroke: 'black', strokeWidth: 6, arrange: 'behind', opacity: 0.1 }\n    },\n    views: [\n      {\n        tracks: [\n          {\n            title: 'ALT + Mouse Drag For Range Selection',\n            \"id\": \"scatterplot-track\",\n            experimental: { mouseEvents: true },\n            \"data\": {\n              \"url\": \"https://server.gosling-lang.org/api/v1/tileset_info/?d=cistrome-multivec\",\n              \"type\": \"multivec\",\n              \"row\": \"sample\",\n              \"column\": \"position\",\n              \"value\": \"peak\",\n              \"categories\": [\"sample 1\", \"sample 2\", \"sample 3\", \"sample 4\"],\n              binSize: binSize === 0 ? 1 : binSize\n            },\n            \"mark\": 'point',\n            \"x\": { \"field\": \"position\", \"type\": \"genomic\" },\n            \"y\": { \"field\": \"peak\", \"type\": \"quantitative\" },\n            size: { \"field\": \"peak\", \"type\": \"quantitative\" },\n            color: { \"field\": \"sample\", \"type\": \"nominal\", \"legend\": true },\n            \"width\": 600,\n            height: 330\n          },\n          {\n            id: \"heatmap-track\",\n            data: {\n              \"url\": \"https://server.gosling-lang.org/api/v1/tileset_info/?d=cistrome-multivec\",\n              \"type\": \"multivec\",\n              \"row\": \"sample\",\n              \"column\": \"position\",\n              \"value\": \"peak\",\n              \"categories\": [\"sample 1\", \"sample 2\", \"sample 3\", \"sample 4\"],\n              binSize: binSize === 0 ? 1 : binSize\n            },\n            \"mark\": mark,\n            \"x\": { \"field\": \"start\", \"type\": \"genomic\" },\n            \"xe\": { \"field\": \"end\", \"type\": \"genomic\" },\n            \"row\": { \"field\": \"sample\", \"type\": \"nominal\", \"legend\": true },\n            \"color\": { \"field\": \"peak\", \"type\": \"quantitative\", \"legend\": true, range: 'pink' },\n            \"tooltip\": [\n              { \"field\": \"start\", \"type\": \"genomic\", \"alt\": \"Start Position\" },\n              { \"field\": \"end\", \"type\": \"genomic\", \"alt\": \"End Position\" },\n              {\n                \"field\": \"peak\",\n                \"type\": \"quantitative\",\n                \"alt\": \"Value\",\n                \"format\": \".2\"\n              },\n              { \"field\": \"sample\", \"type\": \"nominal\", \"alt\": \"Sample\" }\n            ],\n            \"width\": 600,\n            height: 130\n          }\n        ]\n      },\n    ]\n  }\n};\n\nconst vegaLiteSpec = {\n  width: 450,\n  height: 400,\n  mark: 'bar',\n  encoding: {\n    x: { field: 'peak', type: 'ordinal', bin: true },\n    y: { field: 'peak', type: 'quantitative', aggregate: 'count' },\n    color: { field: 'sample', type: 'nominal', scale: { domain: ['sample 1', 'sample 2', 'sample 3', 'sample 4'], range: ['#E79F00', '#029F73', '#0072B2', '#CB7AA7'] }}\n  },\n  data: { name: 'table' }\n};\n\nfunction VegaLiteExample() {\n  const gosRef = useRef(null);\n\n  const [mark, setMark] = useState('rect');\n  const [binSize, setBinSize] = useState(0);\n  const [selectedData, setSelectedData] = useState([]);\n\n  useEffect(() => {\n    if (!gosRef.current) return;\n\n    gosRef.current.api.subscribe(\n      \"rangeSelect\",\n      debounce((type, e) => {\n        setSelectedData(e.data);\n      }, 0)\n    );\n\n    return () => gosRef.current.api.unsubscribe(\"rangeSelect\");\n  }, [gosRef]);\n\n  return (\n    <>\n      <span>\n        <div style={{ marginTop: 30, marginLeft: 80 }}>\n          {'Bin Size: '}\n          <input\n            type=\"range\"\n            min={0}\n            max={32}\n            step={4}\n            value={binSize}\n            className=\"slider\"\n            id=\"bin-slider\"\n            style={{ width: 100, display: 'inline', margin: 10 }}\n            onChange={(e) => setBinSize(+e.currentTarget.value)}\n          />\n          {binSize === 0 ? 1 : binSize}\n        </div>\n      </span>\n      <div style={{ marginTop: 30, marginLeft: 80 }}>\n        {'Heatmap Mark: '}\n        <select name=\"mark\" onChange={(e) => setMark(e.currentTarget.value)}>\n          <option value=\"rect\">rect</option>\n          <option value=\"point\">point</option>\n        </select>\n      </div>\n\n      <GoslingComponent\n        ref={gosRef}\n        spec={goslingSpec(mark, binSize)}\n        experimental={{ reactive: true }}\n      />\n\n      <div style={{ marginLeft: 80 }}>\n        <VegaLite spec={vegaLiteSpec} data={{ table: selectedData }} />\n      </div>\n    </>\n  );\n}\n\nexport default VegaLiteExample;\n","import * as React from \"react\";\nimport { Routes, Route, Link } from \"react-router-dom\";\nimport SimpleExample from \"./example/Simple\";\nimport VegaLiteExample from \"./example/VegaLite\";\n\n// The full list of examples\nconst examples = {\n    'Simple': <SimpleExample/>,\n    'Vega-Lite': <VegaLiteExample/>,\n}\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <h1>Gosling React Examples</h1>\n      {/* Examples */}\n      <ol>\n        {Object.entries(examples).map(entry => <li key={entry[0]}><Link to={`/${entry[0]}`}>{entry[0]}</Link></li>)}\n      </ol>\n      {/* Example Page */}\n      <Routes>\n        {Object.entries(examples).map(entry => <Route key={entry[0]} path={`/${entry[0]}`} element={entry[1]}/>)}\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from \"react-router-dom\";\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n  <HashRouter>\n    <App/>\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}